{"remainingRequest":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/docs/.vuepress/components/demo-block.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/docs/.vuepress/components/demo-block.vue","mtime":1658242403723},{"path":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xqh/program/xqh-frontend-project/xqh-vue-ui-doc/node_modules/vue-loader/lib/index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGhvdmVyaW5nOiBmYWxzZSwKICAgICAgaXNFeHBhbmRlZDogZmFsc2UsCiAgICAgIGZpeGVkQ29udHJvbDogZmFsc2UsCiAgICAgIHNjcm9sbFBhcmVudDogbnVsbCwKICAgICAgbGFuZ0NvbmZpZzogewogICAgICAgICJoaWRlLXRleHQiOiAi6ZqQ6JeP5Luj56CBIiwKICAgICAgICAic2hvdy10ZXh0IjogIuaYvuekuuS7o+eggSIsCiAgICAgICAgImJ1dHRvbi10ZXh0IjogIuWcqOe6v+i/kOihjCIsCiAgICAgICAgInRvb2x0aXAtdGV4dCI6ICLliY3lvoAganNmaWRkbGUubmV0IOi/kOihjOatpOekuuS+iyIKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKXsKICAgIGNvbnNvbGUubG9nKDEpCiAgICBjb25zb2xlLmxvZyh0aGlzLiRzbG90cykKICB9LAogIHByb3BzOiB7CiAgICBqc2ZpZGRsZTogT2JqZWN0LAogICAgZGVmYXVsdCAoKSB7CiAgICAgIHJldHVybiB7fTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNjcm9sbEhhbmRsZXIgKCkgewogICAgICBjb25zdCB7IHRvcCwgYm90dG9tLCBsZWZ0IH0gPSB0aGlzLiRyZWZzLm1ldGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHRoaXMuZml4ZWRDb250cm9sID0gYm90dG9tID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAmJgogICAgICAgIHRvcCArIDQ0IDw9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICB9LAogICAgcmVtb3ZlU2Nyb2xsSGFuZGxlciAoKSB7CiAgICAgIHRoaXMuc2Nyb2xsUGFyZW50ICYmIHRoaXMuc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlcik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbGFuZyAoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXRoLnNwbGl0KCcvJylbMV07CiAgICB9LAogICAgYmxvY2tDbGFzcyAoKSB7CiAgICAgIHJldHVybiBgZGVtby0ke3RoaXMubGFuZ30gZGVtby0ke3RoaXMuJHJvdXRlci5jdXJyZW50Um91dGUucGF0aC5zcGxpdCgnLycpLnBvcCgpfWA7CiAgICB9LAogICAgaWNvbkNsYXNzICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNFeHBhbmRlZCA/ICdlbC1pY29uLWNhcmV0LXRvcCcgOiAnZWwtaWNvbi1jYXJldC1ib3R0b20nOwogICAgfSwKICAgIGNvbnRyb2xUZXh0ICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXNFeHBhbmRlZCA/IHRoaXMubGFuZ0NvbmZpZ1snaGlkZS10ZXh0J10gOiB0aGlzLmxhbmdDb25maWdbJ3Nob3ctdGV4dCddOwogICAgfSwKICAgIGNvZGVBcmVhICgpIHsKICAgICAgcmV0dXJuIHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21ldGEnKVswXTsKICAgIH0sCiAgICBjb2RlQXJlYUhlaWdodCAoKSB7CiAgICAgIGlmICh0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkZXNjcmlwdGlvbicpLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGVzY3JpcHRpb24nKVswXS5jbGllbnRIZWlnaHQgKwogICAgICAgICAgdGhpcy4kZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0JylbMF0uY2xpZW50SGVpZ2h0ICsgMjA7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodCcpWzBdLmNsaWVudEhlaWdodDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpc0V4cGFuZGVkICh2YWwpIHsKICAgICAgdGhpcy5jb2RlQXJlYS5zdHlsZS5oZWlnaHQgPSB2YWwgPyBgJHt0aGlzLmNvZGVBcmVhSGVpZ2h0ICsgMX1weGAgOiAnMCc7CiAgICAgIGlmICghdmFsKSB7CiAgICAgICAgdGhpcy5maXhlZENvbnRyb2wgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzLmNvbnRyb2wuc3R5bGUubGVmdCA9ICcwJzsKICAgICAgICB0aGlzLnJlbW92ZVNjcm9sbEhhbmRsZXIoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5zY3JvbGxQYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1jb21wb25lbnRfX3Njcm9sbCA+IC5lbC1zY3JvbGxiYXJfX3dyYXAnKTsKICAgICAgICB0aGlzLnNjcm9sbFBhcmVudCAmJiB0aGlzLnNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIpOwogICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlcigpOwogICAgICB9LCAyMDApOwogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIGxldCBoaWdobGlnaHQgPSB0aGlzLiRlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQnKVswXTsKICAgICAgaWYgKHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Rlc2NyaXB0aW9uJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gJzEwMCUnOwogICAgICAgIGhpZ2hsaWdodC5ib3JkZXJSaWdodCA9ICdub25lJzsKICAgICAgfQogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIHRoaXMucmVtb3ZlU2Nyb2xsSGFuZGxlcigpOwogIH0KfTsK"},{"version":3,"sources":["demo-block.vue"],"names":[],"mappings":";AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"demo-block.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<template>\n  <div class=\"demo-block\" :class=\"[blockClass, { 'hover': hovering }]\" @mouseenter=\"hovering = true\" @mouseleave=\"hovering = false\">\n    <div style=\"padding:24px\">\n      <slot name=\"source\"></slot>\n    </div>\n    <div class=\"meta\" ref=\"meta\">\n      <div class=\"description\" v-if=\"$slots.default\">\n        <slot></slot>\n      </div>\n      <div class=\"highlight \" v-highlight>\n        <slot name=\"highlight\"></slot>\n      </div>\n    </div>\n    <div class=\"demo-block-control\" ref=\"control\" @click=\"isExpanded = !isExpanded\">\n      <transition name=\"arrow-slide\">\n        <i :class=\"[iconClass, { 'hovering': hovering }]\"></i>\n      </transition>\n      <transition name=\"text-slide\">\n        <span v-show=\"hovering\">{{ controlText }}</span>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\nexport default {\n  data () {\n    return {\n      hovering: false,\n      isExpanded: false,\n      fixedControl: false,\n      scrollParent: null,\n      langConfig: {\n        \"hide-text\": \"隐藏代码\",\n        \"show-text\": \"显示代码\",\n        \"button-text\": \"在线运行\",\n        \"tooltip-text\": \"前往 jsfiddle.net 运行此示例\"\n      }\n    };\n  },\n  mounted(){\n    console.log(1)\n    console.log(this.$slots)\n  },\n  props: {\n    jsfiddle: Object,\n    default () {\n      return {};\n    }\n  },\n  methods: {\n    scrollHandler () {\n      const { top, bottom, left } = this.$refs.meta.getBoundingClientRect();\n      this.fixedControl = bottom > document.documentElement.clientHeight &&\n        top + 44 <= document.documentElement.clientHeight;\n    },\n    removeScrollHandler () {\n      this.scrollParent && this.scrollParent.removeEventListener('scroll', this.scrollHandler);\n    }\n  },\n  computed: {\n    lang () {\n      return this.$route.path.split('/')[1];\n    },\n    blockClass () {\n      return `demo-${this.lang} demo-${this.$router.currentRoute.path.split('/').pop()}`;\n    },\n    iconClass () {\n      return this.isExpanded ? 'el-icon-caret-top' : 'el-icon-caret-bottom';\n    },\n    controlText () {\n      return this.isExpanded ? this.langConfig['hide-text'] : this.langConfig['show-text'];\n    },\n    codeArea () {\n      return this.$el.getElementsByClassName('meta')[0];\n    },\n    codeAreaHeight () {\n      if (this.$el.getElementsByClassName('description').length > 0) {\n        return this.$el.getElementsByClassName('description')[0].clientHeight +\n          this.$el.getElementsByClassName('highlight')[0].clientHeight + 20;\n      }\n      return this.$el.getElementsByClassName('highlight')[0].clientHeight;\n    }\n  },\n  watch: {\n    isExpanded (val) {\n      this.codeArea.style.height = val ? `${this.codeAreaHeight + 1}px` : '0';\n      if (!val) {\n        this.fixedControl = false;\n        this.$refs.control.style.left = '0';\n        this.removeScrollHandler();\n        return;\n      }\n      setTimeout(() => {\n        this.scrollParent = document.querySelector('.page-component__scroll > .el-scrollbar__wrap');\n        this.scrollParent && this.scrollParent.addEventListener('scroll', this.scrollHandler);\n        this.scrollHandler();\n      }, 200);\n    }\n  },\n  mounted () {\n    this.$nextTick(() => {\n      let highlight = this.$el.getElementsByClassName('highlight')[0];\n      if (this.$el.getElementsByClassName('description').length === 0) {\n        highlight.style.width = '100%';\n        highlight.borderRight = 'none';\n      }\n    });\n  },\n  beforeDestroy () {\n    this.removeScrollHandler();\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.demo-block {\n  border: solid 1px #ebebeb;\n  border-radius: 3px;\n  transition: 0.2s;\n  &.hover {\n    box-shadow: 0 0 8px 0 rgba(232, 237, 250, 0.6),\n      0 2px 4px 0 rgba(232, 237, 250, 0.5);\n  }\n  code {\n    font-family: Menlo, Monaco, Consolas, Courier, monospace;\n  }\n  .demo-button {\n    float: right;\n  }\n  .source {\n    padding: 24px;\n  }\n  .meta {\n    background-color: #fafafa;\n    border-top: solid 1px #eaeefb;\n    overflow: hidden;\n    height: 0;\n    transition: height 0.2s;\n  }\n  .description {\n    padding: 20px;\n    box-sizing: border-box;\n    border: solid 1px #ebebeb;\n    border-radius: 3px;\n    font-size: 14px;\n    line-height: 22px;\n    color: #666;\n    word-break: break-word;\n    margin: 10px;\n    background-color: #fff;\n    p {\n      margin: 0;\n      line-height: 26px;\n    }\n    code {\n      color: #5e6d82;\n      background-color: #e6effb;\n      margin: 0 4px;\n      display: inline-block;\n      padding: 1px 5px;\n      font-size: 12px;\n      border-radius: 3px;\n      height: 18px;\n      line-height: 18px;\n    }\n  }\n  .highlight {\n    pre {\n      margin: 0;\n    }\n    code.hljs {\n      margin: 0;\n      border: none;\n      max-height: none;\n      border-radius: 0;\n      line-height: 1.8;\n      color: black;\n      &::before {\n        content: none;\n      }\n    }\n  }\n  .demo-block-control {\n    border-top: solid 1px #eaeefb;\n    height: 44px;\n    box-sizing: border-box;\n    background-color: #fff;\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n    text-align: center;\n    margin-top: -1px;\n    color: #d3dce6;\n    cursor: pointer;\n    position: relative;\n    &.is-fixed {\n      position: fixed;\n      bottom: 0;\n      width: 868px;\n    }\n    i {\n      font-size: 16px;\n      line-height: 44px;\n      transition: 0.3s;\n      &.hovering {\n        transform: translateX(-40px);\n      }\n    }\n    > span {\n      position: absolute;\n      transform: translateX(-30px);\n      font-size: 14px;\n      line-height: 44px;\n      transition: 0.3s;\n      display: inline-block;\n    }\n    &:hover {\n      color: #409eff;\n      background-color: #f9fafc;\n    }\n    & .text-slide-enter,\n    & .text-slide-leave-active {\n      opacity: 0;\n      transform: translateX(10px);\n    }\n    .control-button {\n      line-height: 26px;\n      position: absolute;\n      top: 0;\n      right: 0;\n      font-size: 14px;\n      padding-left: 5px;\n      padding-right: 25px;\n    }\n  }\n}\n</style>"]}]}